# CLI Í∏∞Î∞ò Î∞∞Ìè¨ Í∞ÄÏù¥Îìú

## üöÄ Í∞úÏöî

GoÎ°ú ÏûëÏÑ±Îêú ÎÑ§Ïù¥Ìã∞Î∏å CLI ÎèÑÍµ¨ÏôÄ API ÏÑúÎ≤ÑÏùò ÎπåÎìú, Ìå®ÌÇ§Ïßï, Î∞∞Ìè¨ Î∞©Î≤ïÏùÑ ÏÑ§Î™ÖÌï©ÎãàÎã§.

## üèóÔ∏è ÎπåÎìú ÏãúÏä§ÌÖú

### 1. Makefile Íµ¨ÏÑ±

```makefile
# Makefile
.PHONY: all build build-all clean test lint install docker help

# Î≥ÄÏàò Ï†ïÏùò
BINARY_NAME := aicli
API_NAME := aicli-api
VERSION := $(shell git describe --tags --always --dirty)
BUILD_TIME := $(shell date -u '+%Y-%m-%d_%H:%M:%S')
COMMIT := $(shell git rev-parse --short HEAD)

# Go Í¥ÄÎ†® Î≥ÄÏàò
GO := go
GOFLAGS := -v
LDFLAGS := -ldflags "-s -w \
	-X github.com/yourusername/aicli/pkg/version.Version=$(VERSION) \
	-X github.com/yourusername/aicli/pkg/version.BuildTime=$(BUILD_TIME) \
	-X github.com/yourusername/aicli/pkg/version.Commit=$(COMMIT)"

# ÌîåÎû´ÌèºÎ≥Ñ ÎπåÎìú Î≥ÄÏàò
PLATFORMS := darwin/amd64 darwin/arm64 linux/amd64 linux/arm64 windows/amd64
PLATFORM_TARGETS := $(addprefix build-, $(subst /,-,$(PLATFORMS)))

# Í∏∞Î≥∏ ÌÉÄÍ≤ü
all: test build

# Î°úÏª¨ ÎπåÎìú
build: build-cli build-api

build-cli:
	@echo "Building CLI for local platform..."
	$(GO) build $(GOFLAGS) $(LDFLAGS) -o bin/$(BINARY_NAME) ./cmd/aicli

build-api:
	@echo "Building API server..."
	$(GO) build $(GOFLAGS) $(LDFLAGS) -o bin/$(API_NAME) ./cmd/api

# ÌÅ¨Î°úÏä§ ÌîåÎû´Ìèº ÎπåÎìú
build-all: $(PLATFORM_TARGETS)

$(PLATFORM_TARGETS): build-%:
	$(eval GOOS := $(word 1,$(subst -, ,$*)))
	$(eval GOARCH := $(word 2,$(subst -, ,$*)))
	$(eval OUTPUT := $(BINARY_NAME)-$(GOOS)-$(GOARCH))
	@if [ "$(GOOS)" = "windows" ]; then OUTPUT="$(OUTPUT).exe"; fi; \
	echo "Building for $(GOOS)/$(GOARCH)..."; \
	GOOS=$(GOOS) GOARCH=$(GOARCH) CGO_ENABLED=0 \
		$(GO) build $(GOFLAGS) $(LDFLAGS) -o dist/$(OUTPUT) ./cmd/aicli

# Ï†ïÏ†Å ÎπåÎìú (Alpine LinuxÏö©)
build-static:
	@echo "Building static binary..."
	CGO_ENABLED=0 GOOS=linux GOARCH=amd64 \
		$(GO) build $(GOFLAGS) \
		-ldflags "-s -w -extldflags '-static' \
			-X github.com/yourusername/aicli/pkg/version.Version=$(VERSION)" \
		-o dist/$(BINARY_NAME)-linux-amd64-static ./cmd/aicli

# ÌÖåÏä§Ìä∏
test:
	@echo "Running tests..."
	$(GO) test -v -race -coverprofile=coverage.out ./...
	$(GO) tool cover -html=coverage.out -o coverage.html

test-integration:
	@echo "Running integration tests..."
	$(GO) test -v -tags=integration ./tests/integration/...

# Î≤§ÏπòÎßàÌÅ¨
bench:
	@echo "Running benchmarks..."
	$(GO) test -bench=. -benchmem ./...

# Î¶∞Ìä∏
lint:
	@echo "Running linters..."
	golangci-lint run --timeout=5m

# Ìè¨Îß∑
fmt:
	@echo "Formatting code..."
	$(GO) fmt ./...
	goimports -w .

# ÏùòÏ°¥ÏÑ± Í¥ÄÎ¶¨
deps:
	@echo "Downloading dependencies..."
	$(GO) mod download
	$(GO) mod tidy

# ÏÑ§Ïπò
install: build
	@echo "Installing binaries..."
	sudo cp bin/$(BINARY_NAME) /usr/local/bin/
	sudo cp bin/$(API_NAME) /usr/local/bin/

# Docker ÎπåÎìú
docker: docker-cli docker-api

docker-cli:
	@echo "Building CLI Docker image..."
	docker build -f docker/cli/Dockerfile -t $(BINARY_NAME):$(VERSION) .

docker-api:
	@echo "Building API Docker image..."
	docker build -f docker/api/Dockerfile -t $(API_NAME):$(VERSION) .

# Î¶¥Î¶¨Ï¶à
release: clean build-all
	@echo "Creating release artifacts..."
	@mkdir -p release
	@for file in dist/*; do \
		tar czf release/$$(basename $$file).tar.gz -C dist $$(basename $$file); \
	done
	@cd release && sha256sum *.tar.gz > checksums.txt

# Ï†ïÎ¶¨
clean:
	@echo "Cleaning..."
	rm -rf bin/ dist/ release/ coverage.* *.test

# ÎèÑÏõÄÎßê
help:
	@echo "Available targets:"
	@echo "  make build        - Build for local platform"
	@echo "  make build-all    - Build for all platforms"
	@echo "  make test         - Run tests"
	@echo "  make lint         - Run linters"
	@echo "  make install      - Install binaries"
	@echo "  make docker       - Build Docker images"
	@echo "  make release      - Create release artifacts"
	@echo "  make clean        - Clean build artifacts"
```

### 2. ÎπåÎìú Ïä§ÌÅ¨Î¶ΩÌä∏

```bash
#!/bin/bash
# scripts/build.sh

set -euo pipefail

# ÏÉâÏÉÅ Ï†ïÏùò
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# Ìï®Ïàò Ï†ïÏùò
log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

log_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

# Î≤ÑÏ†Ñ Ï†ïÎ≥¥
VERSION=$(git describe --tags --always --dirty)
BUILD_TIME=$(date -u '+%Y-%m-%d_%H:%M:%S')
COMMIT=$(git rev-parse --short HEAD)

log_info "Building AICLI CLI v${VERSION}"
log_info "Commit: ${COMMIT}"
log_info "Build time: ${BUILD_TIME}"

# Go Î≤ÑÏ†Ñ ÌôïÏù∏
GO_VERSION=$(go version | awk '{print $3}')
REQUIRED_GO_VERSION="go1.21"

if [[ "${GO_VERSION}" < "${REQUIRED_GO_VERSION}" ]]; then
    log_error "Go version ${REQUIRED_GO_VERSION} or higher is required (current: ${GO_VERSION})"
    exit 1
fi

# ÏùòÏ°¥ÏÑ± Îã§Ïö¥Î°úÎìú
log_info "Downloading dependencies..."
go mod download

# ÌÖåÏä§Ìä∏ Ïã§Ìñâ
if [[ "${SKIP_TESTS:-false}" != "true" ]]; then
    log_info "Running tests..."
    go test -v -race ./...
else
    log_warning "Skipping tests (SKIP_TESTS=true)"
fi

# ÎπåÎìú
log_info "Building binaries..."
make build-all

# ÏôÑÎ£å
log_info "Build completed successfully!"
ls -la dist/
```

## üê≥ Docker Ïù¥ÎØ∏ÏßÄ

### 1. CLI Docker Ïù¥ÎØ∏ÏßÄ

```dockerfile
# docker/cli/Dockerfile
# ÎπåÎìú Ïä§ÌÖåÏù¥ÏßÄ
FROM golang:1.21-alpine AS builder

# ÎπåÎìú ÎèÑÍµ¨ ÏÑ§Ïπò
RUN apk add --no-cache git make

# ÏûëÏóÖ ÎîîÎ†âÌÜ†Î¶¨
WORKDIR /build

# ÏùòÏ°¥ÏÑ± Ï∫êÏã±
COPY go.mod go.sum ./
RUN go mod download

# ÏÜåÏä§ Î≥µÏÇ¨ Î∞è ÎπåÎìú
COPY . .
RUN make build-static

# Ïã§Ìñâ Ïä§ÌÖåÏù¥ÏßÄ
FROM alpine:3.19

# ÌïÑÏàò Ìå®ÌÇ§ÏßÄ ÏÑ§Ïπò
RUN apk add --no-cache \
    ca-certificates \
    git \
    openssh-client \
    docker-cli

# ÏÇ¨Ïö©Ïûê ÏÉùÏÑ±
RUN adduser -D -u 1000 aicli

# Î∞îÏù¥ÎÑàÎ¶¨ Î≥µÏÇ¨
COPY --from=builder /build/dist/aicli-linux-amd64-static /usr/local/bin/aicli

# ÏÑ§Ï†ï ÎîîÎ†âÌÜ†Î¶¨
RUN mkdir -p /home/aicli/.aicli && chown -R aicli:aicli /home/aicli

USER aicli
WORKDIR /home/aicli

ENTRYPOINT ["aicli"]
CMD ["--help"]
```

### 2. API ÏÑúÎ≤Ñ Docker Ïù¥ÎØ∏ÏßÄ

```dockerfile
# docker/api/Dockerfile
# ÎπåÎìú Ïä§ÌÖåÏù¥ÏßÄ
FROM golang:1.21-alpine AS builder

RUN apk add --no-cache git make

WORKDIR /build

# ÏùòÏ°¥ÏÑ± Ï∫êÏã±
COPY go.mod go.sum ./
RUN go mod download

# ÎπåÎìú
COPY . .
RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 \
    go build -ldflags="-s -w" -o aicli-api ./cmd/api

# Ïã§Ìñâ Ïä§ÌÖåÏù¥ÏßÄ
FROM alpine:3.19

RUN apk add --no-cache ca-certificates tzdata

# ÏÇ¨Ïö©Ïûê ÏÉùÏÑ±
RUN addgroup -g 1000 -S aicli && \
    adduser -u 1000 -S aicli -G aicli

# Î∞îÏù¥ÎÑàÎ¶¨ Î≥µÏÇ¨
COPY --from=builder /build/aicli-api /usr/local/bin/aicli-api

# ÏÑ§Ï†ï ÌååÏùº
COPY --chown=aicli:aicli configs/production.yaml /etc/aicli/config.yaml

USER aicli

EXPOSE 8080

HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
    CMD ["/usr/local/bin/aicli-api", "health"]

ENTRYPOINT ["aicli-api"]
CMD ["server", "--config", "/etc/aicli/config.yaml"]
```

## üì¶ Ìå®ÌÇ§Ïßï

### 1. Homebrew Formula

```ruby
# Formula/aicli.rb
class Terry < Formula
  desc "AI-powered code management CLI"
  homepage "https://github.com/yourusername/aicli"
  version "1.0.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/yourusername/aicli/releases/download/v#{version}/aicli-darwin-arm64.tar.gz"
      sha256 "YOUR_SHA256_HERE"
    else
      url "https://github.com/yourusername/aicli/releases/download/v#{version}/aicli-darwin-amd64.tar.gz"
      sha256 "YOUR_SHA256_HERE"
    end
  end

  on_linux do
    if Hardware::CPU.arm?
      url "https://github.com/yourusername/aicli/releases/download/v#{version}/aicli-linux-arm64.tar.gz"
      sha256 "YOUR_SHA256_HERE"
    else
      url "https://github.com/yourusername/aicli/releases/download/v#{version}/aicli-linux-amd64.tar.gz"
      sha256 "YOUR_SHA256_HERE"
    end
  end

  def install
    bin.install "aicli"
    
    # ÏûêÎèô ÏôÑÏÑ± Ïä§ÌÅ¨Î¶ΩÌä∏
    generate_completions_from_executable(bin/"aicli", "completion")
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/aicli version")
  end
end
```

### 2. APT Ìå®ÌÇ§ÏßÄ (Debian/Ubuntu)

```bash
#!/bin/bash
# scripts/build-deb.sh

VERSION=$1
ARCH=${2:-amd64}

# ÎîîÎ†âÌÜ†Î¶¨ Íµ¨Ï°∞ ÏÉùÏÑ±
mkdir -p aicli-${VERSION}/DEBIAN
mkdir -p aicli-${VERSION}/usr/bin
mkdir -p aicli-${VERSION}/usr/share/doc/aicli
mkdir -p aicli-${VERSION}/etc/aicli

# Î∞îÏù¥ÎÑàÎ¶¨ Î≥µÏÇ¨
cp dist/aicli-linux-${ARCH} aicli-${VERSION}/usr/bin/aicli
chmod 755 aicli-${VERSION}/usr/bin/aicli

# Î¨∏ÏÑú Î≥µÏÇ¨
cp README.md LICENSE aicli-${VERSION}/usr/share/doc/aicli/

# Control ÌååÏùº ÏÉùÏÑ±
cat > aicli-${VERSION}/DEBIAN/control << EOF
Package: aicli
Version: ${VERSION}
Section: utils
Priority: optional
Architecture: ${ARCH}
Maintainer: Your Name <your.email@example.com>
Description: AI-powered code management CLI
 Terry is a command-line interface for managing AI-powered coding tasks.
 It allows you to create workspaces, run Claude AI tasks, and monitor progress.
Homepage: https://github.com/yourusername/aicli
EOF

# postinst Ïä§ÌÅ¨Î¶ΩÌä∏
cat > aicli-${VERSION}/DEBIAN/postinst << 'EOF'
#!/bin/bash
set -e

# ÏÑ§Ï†ï ÎîîÎ†âÌÜ†Î¶¨ ÏÉùÏÑ±
mkdir -p /etc/aicli

# ÏûêÎèô ÏôÑÏÑ± ÏÑ§Ï†ï
if [ -d /etc/bash_completion.d ]; then
    aicli completion bash > /etc/bash_completion.d/aicli
fi

exit 0
EOF
chmod 755 aicli-${VERSION}/DEBIAN/postinst

# Ìå®ÌÇ§ÏßÄ ÎπåÎìú
dpkg-deb --build aicli-${VERSION}
```

### 3. RPM Ìå®ÌÇ§ÏßÄ (RHEL/CentOS/Fedora)

```spec
# aicli.spec
Name:           aicli
Version:        1.0.0
Release:        1%{?dist}
Summary:        AI-powered code management CLI

License:        MIT
URL:            https://github.com/yourusername/aicli
Source0:        %{name}-%{version}.tar.gz

BuildRequires:  golang >= 1.21

%description
Terry is a command-line interface for managing AI-powered coding tasks.

%prep
%autosetup

%build
make build

%install
rm -rf $RPM_BUILD_ROOT
mkdir -p $RPM_BUILD_ROOT%{_bindir}
install -m 755 bin/aicli $RPM_BUILD_ROOT%{_bindir}/aicli

%files
%license LICENSE
%doc README.md
%{_bindir}/aicli

%changelog
* Mon Jan 20 2025 Your Name <your.email@example.com> - 1.0.0-1
- Initial package
```

## üöÄ Î∞∞Ìè¨ Ï†ÑÎûµ

### 1. GitHub Actions CI/CD

```yaml
# .github/workflows/release.yml
name: Release

on:
  push:
    tags:
      - 'v*'

permissions:
  contents: write

jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        include:
          - {os: ubuntu-latest, goos: linux, goarch: amd64}
          - {os: ubuntu-latest, goos: linux, goarch: arm64}
          - {os: macos-latest, goos: darwin, goarch: amd64}
          - {os: macos-latest, goos: darwin, goarch: arm64}
          - {os: windows-latest, goos: windows, goarch: amd64}

    steps:
    - uses: actions/checkout@v4

    - name: Set up Go
      uses: actions/setup-go@v4
      with:
        go-version: '1.21'

    - name: Build
      env:
        GOOS: ${{ matrix.goos }}
        GOARCH: ${{ matrix.goarch }}
      run: |
        make build-${{ matrix.goos }}-${{ matrix.goarch }}

    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        name: binaries
        path: dist/

  release:
    needs: build
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        name: binaries
        path: dist/

    - name: Create Release
      uses: softprops/action-gh-release@v1
      with:
        files: dist/*
        generate_release_notes: true
        
  docker:
    needs: release
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v2
    
    - name: Login to Docker Hub
      uses: docker/login-action@v2
      with:
        username: ${{ secrets.DOCKER_USERNAME }}
        password: ${{ secrets.DOCKER_PASSWORD }}
    
    - name: Build and push
      uses: docker/build-push-action@v4
      with:
        context: .
        file: ./docker/api/Dockerfile
        platforms: linux/amd64,linux/arm64
        push: true
        tags: |
          ${{ secrets.DOCKER_USERNAME }}/aicli-api:latest
          ${{ secrets.DOCKER_USERNAME }}/aicli-api:${{ github.ref_name }}
```

### 2. ÏÑ§Ïπò Ïä§ÌÅ¨Î¶ΩÌä∏

```bash
#!/bin/bash
# install.sh

set -euo pipefail

# Î≥ÄÏàò
REPO="yourusername/aicli"
BINARY="aicli"

# OSÏôÄ ÏïÑÌÇ§ÌÖçÏ≤ò Í∞êÏßÄ
OS=$(uname -s | tr '[:upper:]' '[:lower:]')
ARCH=$(uname -m)

case "${ARCH}" in
    x86_64)
        ARCH="amd64"
        ;;
    aarch64|arm64)
        ARCH="arm64"
        ;;
    *)
        echo "Unsupported architecture: ${ARCH}"
        exit 1
        ;;
esac

# ÏµúÏã† Î≤ÑÏ†Ñ Í∞ÄÏ†∏Ïò§Í∏∞
VERSION=$(curl -s https://api.github.com/repos/${REPO}/releases/latest | grep tag_name | cut -d '"' -f 4)

if [ -z "${VERSION}" ]; then
    echo "Failed to get latest version"
    exit 1
fi

echo "Installing AICLI ${VERSION} for ${OS}/${ARCH}..."

# Îã§Ïö¥Î°úÎìú URL
URL="https://github.com/${REPO}/releases/download/${VERSION}/${BINARY}-${OS}-${ARCH}"

# WindowsÏù∏ Í≤ΩÏö∞ .exe Ï∂îÍ∞Ä
if [ "${OS}" = "windows" ]; then
    URL="${URL}.exe"
    BINARY="${BINARY}.exe"
fi

# Îã§Ïö¥Î°úÎìú
curl -L -o /tmp/${BINARY} "${URL}"
chmod +x /tmp/${BINARY}

# ÏÑ§Ïπò
sudo mv /tmp/${BINARY} /usr/local/bin/${BINARY}

# ÏûêÎèô ÏôÑÏÑ± ÏÑ§Ïπò
if [ "${OS}" != "windows" ]; then
    # Bash
    if [ -d /etc/bash_completion.d ]; then
        ${BINARY} completion bash | sudo tee /etc/bash_completion.d/${BINARY} > /dev/null
    fi
    
    # Zsh
    if [ -d "${HOME}/.oh-my-zsh/custom/plugins" ]; then
        mkdir -p "${HOME}/.oh-my-zsh/custom/plugins/${BINARY}"
        ${BINARY} completion zsh > "${HOME}/.oh-my-zsh/custom/plugins/${BINARY}/_${BINARY}"
    fi
fi

echo "AICLI ${VERSION} installed successfully!"
${BINARY} version
```

## üèÉ Îü∞ÌÉÄÏûÑ ÏÑ§Ï†ï

### 1. ÏãúÏä§ÌÖú ÏÑúÎπÑÏä§ (systemd)

```ini
# /etc/systemd/system/aicli-api.service
[Unit]
Description=Terry API Server
Documentation=https://github.com/yourusername/aicli
After=network.target

[Service]
Type=simple
User=aicli
Group=aicli
ExecStart=/usr/local/bin/aicli-api server --config /etc/aicli/config.yaml
Restart=on-failure
RestartSec=5

# Î≥¥Ïïà ÏÑ§Ï†ï
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/var/lib/aicli /var/log/aicli

# Î¶¨ÏÜåÏä§ Ï†úÌïú
LimitNOFILE=65535
LimitNPROC=4096

# ÌôòÍ≤Ω Î≥ÄÏàò
Environment="TERRY_ENV=production"
EnvironmentFile=-/etc/aicli/env

[Install]
WantedBy=multi-user.target
```

### 2. ÌôòÍ≤Ω ÏÑ§Ï†ï

```yaml
# /etc/aicli/config.yaml
server:
  host: 0.0.0.0
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  
database:
  type: sqlite
  path: /var/lib/aicli/aicli.db
  
logging:
  level: info
  format: json
  output: /var/log/aicli/api.log
  
security:
  jwt_secret: ${JWT_SECRET}
  allowed_origins:
    - http://localhost:3000
    - https://aicli.example.com
    
docker:
  host: unix:///var/run/docker.sock
  network: aicli_network
  
claude:
  max_concurrent_sessions: 10
  session_timeout: 30m
  
monitoring:
  metrics_enabled: true
  metrics_port: 9090
  trace_enabled: true
  trace_endpoint: http://jaeger:14268/api/traces
```

## üìä Î™®ÎãàÌÑ∞ÎßÅ ÏÑ§Ï†ï

### 1. Prometheus ÏÑ§Ï†ï

```yaml
# prometheus.yml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'aicli-api'
    static_configs:
      - targets: ['localhost:9090']
    
  - job_name: 'node-exporter'
    static_configs:
      - targets: ['localhost:9100']
```

### 2. Grafana ÎåÄÏãúÎ≥¥Îìú

```json
{
  "dashboard": {
    "title": "Terry Monitoring",
    "panels": [
      {
        "title": "API Request Rate",
        "targets": [
          {
            "expr": "rate(http_requests_total[5m])"
          }
        ]
      },
      {
        "title": "Task Execution Time",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, rate(task_duration_seconds_bucket[5m]))"
          }
        ]
      }
    ]
  }
}
```

## üîê ÌîÑÎ°úÎçïÏÖò Î≥¥Ïïà

### 1. Î≥¥Ïïà Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏

```bash
#!/bin/bash
# scripts/security-check.sh

echo "Running security checks..."

# ÏùòÏ°¥ÏÑ± Ï∑®ÏïΩÏ†ê Í≤ÄÏÇ¨
go list -json -deps ./... | nancy sleuth

# Ï†ïÏ†Å Î∂ÑÏÑù
gosec ./...

# ÎùºÏù¥ÏÑ†Ïä§ ÌôïÏù∏
go-licenses check ./...

# Docker Ïù¥ÎØ∏ÏßÄ Ïä§Ï∫î
trivy image aicli-api:latest
```

### 2. Í∞ïÌôî ÏÑ§Ï†ï

```bash
# ÌååÏùº Í∂åÌïú
chmod 600 /etc/aicli/config.yaml
chmod 700 /var/lib/aicli

# SELinux Ïª®ÌÖçÏä§Ìä∏ (RHEL/CentOS)
semanage fcontext -a -t bin_t /usr/local/bin/aicli
restorecon -v /usr/local/bin/aicli

# AppArmor ÌîÑÎ°úÌååÏùº (Ubuntu)
aa-complain /usr/local/bin/aicli-api
```

## üéØ Î∞∞Ìè¨ ÏôÑÎ£å ÌôïÏù∏

```bash
#!/bin/bash
# scripts/verify-deployment.sh

echo "Verifying deployment..."

# API Ìó¨Ïä§Ï≤¥ÌÅ¨
curl -f http://localhost:8080/health || exit 1

# CLI Î≤ÑÏ†Ñ ÌôïÏù∏
aicli version || exit 1

# Î°úÍ∑∏ ÌôïÏù∏
tail -n 100 /var/log/aicli/api.log

echo "Deployment verified successfully!"
```